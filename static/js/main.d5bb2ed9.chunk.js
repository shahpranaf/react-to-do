(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(4),i=n.n(s),o=(n(20),n(21),n(22),n(23),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))}),l=n(2),r=n(5),d=n(7),u=n(8),h=n(10),b=n(9),j=(n(24),n(1)),m=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleEditing=function(e){a.setState({editText:e.target.value})},a.handleEditClear=function(e){a.setState({editText:""}),a.props.handleFocus(-1,e)},a.handleBlur=function(e,t){e.currentTarget.contains(e.relatedTarget)||a.handleEditClear(t)},a.createTasks=function(e,t){var n="high"===e.priority?"danger":"medium"===e.priority?"warning":"info";return Object(j.jsx)("li",{"aria-label":"list".concat(t),className:"list-group-item ".concat(a.props.cursor===t?"active":null," ").concat(e.done?"mark-done":null),children:Object(j.jsx)("div",{className:"todo-content p-0 ",children:Object(j.jsxs)("div",{className:"todo-content-wrapper",children:[Object(j.jsx)("div",{className:"todo-content-left mr-2 ".concat(e.editing?"blur-on-edit":""),children:Object(j.jsxs)("div",{className:"custom-checkbox custom-control",children:[Object(j.jsx)("input",{"aria-label":"selectTask",onFocus:function(){return a.props.handleFocus(t)},className:"custom-control-input",defaultChecked:e.selected,onChange:function(){return a.props.handleSelected(t)},id:"check".concat(t),type:"checkbox"}),Object(j.jsx)("label",{className:"custom-control-label",htmlFor:"check".concat(t),children:"\xa0"})]})}),Object(j.jsxs)("div",{onBlur:function(e){return a.handleBlur(e,t)},id:"editTask".concat(t),className:"edit-task justify-content-between form-inline row ".concat(e.editing?"":"d-none"),children:[Object(j.jsx)("input",{autoComplete:"off",name:"editText",value:""!==a.state.editText?a.state.editText:e.text,ref:function(e){e&&e.focus()},title:"editTask",placeholder:"Enter Task",onChange:a.handleEditing,className:"form-control"}),Object(j.jsx)("button",{"aria-label":"editTaskOk",onClick:function(){return a.props.handleEditSubmit(t,a.state.editText)},className:"btn-transition btn btn-sm text-success mr-1",children:Object(j.jsx)("i",{className:"fa fa-check"})}),Object(j.jsx)("button",{"aria-label":"editTaskClose",onClick:function(){return a.handleEditClear(t)},className:"btn-transition btn btn-sm text-danger mr-1",children:Object(j.jsx)("i",{className:"fa fa-close"})})]}),Object(j.jsx)("div",{title:"todoText",onDoubleClick:function(){return a.props.handleEdit(t)},className:"todo-content-left col-md-5 ".concat(e.editing?"blur-on-edit":""),children:Object(j.jsxs)("div",{className:"todo-heading",children:[Object(j.jsx)("span",{"aria-label":"taskText",children:e.text}),Object(j.jsx)("div",{"aria-label":"priority",className:"badge ml-2 badge-".concat(n),children:e.priority})]})}),Object(j.jsxs)("div",{className:"todo-content-right ".concat(e.editing?"blur-on-edit":""),onFocus:function(){return a.props.handleFocus(t)},children:[Object(j.jsx)("button",{onClick:function(){return a.props.handleComplete([t])},className:"btn-transition btn btn-done mr-1",children:Object(j.jsx)("i",{className:"fa fa-check ".concat(e.done?null:"invisible")})}),Object(j.jsx)("button",{"aria-label":"delete".concat(t),onClick:function(){return a.props.handleDelete(t)},className:"border-0 btn-transition btn btn-outline-danger",children:Object(j.jsx)("i",{className:"fa fa-trash"})})]})]})})},e.key)},a.state={editText:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.entries.map(this.createTasks);return Object(j.jsx)("div",{className:"scroll-area-sm",children:Object(j.jsx)("perfect-scrollbar",{className:"ps-show-limits",children:Object(j.jsx)("div",{style:{position:"static"},className:"ps ps--active-y",children:Object(j.jsx)("div",{className:"ps-content",children:Object(j.jsx)("ul",{className:" list-group list-group-flush",children:e})})})})})}}]),n}(a.Component),f=n(6),p={key:"",text:"",done:!1,priority:"low",selected:!1,editing:!1},x=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){window.addEventListener("beforeunload",a.componentCleanup),a.setState({list:JSON.parse(localStorage.getItem("todo"))||[]})},a.handleSubmit=function(e){e.preventDefault();var t=Object(r.a)(a.state.list).concat(Object(l.a)(Object(l.a)({},a.state.newTask),{},{key:Date.now()}));a.setState({list:t,newTask:p},(function(){return f.NotificationManager.success("Task added sucessfully")}))},a.handlenewTask=function(e){var t=e.target,n=t.name,c=t.value;"newTask"===n?a.setState({newTask:Object(l.a)(Object(l.a)({},a.state.newTask),{},{text:c})}):"priority"===n&&a.setState({newTask:Object(l.a)(Object(l.a)({},a.state.newTask),{},{priority:c})})},a.handleDelete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=Object(r.a)(a.state.list);t=e>=0?t.filter((function(t,n){return e!==n})):t.filter((function(e){return!e.selected})),a.setState({list:t},(function(){return f.NotificationManager.warning("Task deleted sucessfully")})),a.handleSelectCount(t)},a.handleKeyDown=function(e){var t=a.state,n=t.cursor,c=t.list;(38===e.keyCode||37===e.keyCode)&&n>0?a.setState({cursor:a.state.cursor-1},document.getElementById("check".concat(a.state.cursor-1)).focus()):(40===e.keyCode||39===e.keyCode)&&n<c.length-1&&a.setState({cursor:a.state.cursor+1},document.getElementById("check".concat(a.state.cursor+1)).focus())},a.handleComplete=function(e){var t=Object(r.a)(a.state.list);e.forEach((function(e){t[e].done=!t[e].done})),t=t.filter((function(e){return!e.done})).concat(t.filter((function(e){return e.done}))),a.setState({list:t})},a.handleSelected=function(e){var t=Object(r.a)(a.state.list);t[e].selected=!t[e].selected,a.setState({list:t}),a.handleSelectCount(t)},a.handleSelectCount=function(e){a.selectCount=e.filter((function(e){return e.selected})).length},a.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;a.setState({cursor:e});var n=t>=0?t:e;if(n>=0){var c=Object(r.a)(a.state.list);c[n].editing=!1,a.setState({list:c})}},a.handleEdit=function(e){console.log("edit=====");var t=Object(r.a)(a.state.list);return t[e].editing=!0,a.setState({list:t}),!0},a.handleEditSubmit=function(e,t){if(t){var n=Object(r.a)(a.state.list);n[e]=Object(l.a)(Object(l.a)({},n[e]),{},{text:t,editing:!1}),a.setState({list:n},(function(){return f.NotificationManager.success("Task updated sucessfully")}))}},a.getForm=function(e){return Object(j.jsxs)("form",{className:"col-md-8 form-inline mb-2 row justify-content-between",onSubmit:a.handleSubmit,children:[Object(j.jsx)("input",{"data-testid":"newTask",autoComplete:"off",name:"newTask",value:e.text,placeholder:"Enter Task",onChange:a.handlenewTask,className:"form-control col-md-7"}),Object(j.jsxs)("select",{"data-testid":"priority",name:"priority",value:e.priority,onChange:a.handlenewTask,className:"form-control col-md-2",children:[Object(j.jsx)("option",{value:"low",children:"Low"}),Object(j.jsx)("option",{value:"medium",children:"Medium"}),Object(j.jsx)("option",{value:"high",children:"High"})]}),Object(j.jsx)("button",{disabled:""===e.text,"data-testid":"add-button",className:"btn btn-primary col-md-2 float-right",type:"submit",children:"Add"})]})},a.componentWillUnmount=function(){a.componentCleanup(),window.removeEventListener("beforeunload",a.componentCleanup)},a.componentCleanup=function(){a.state.list.map((function(e){return e.selected=!1,e.editing=!1,e})),localStorage.setItem("todo",JSON.stringify(a.state.list)||[])},a.selectCount=0,a.state={newTask:p,list:[],cursor:-1,isEdit:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.newTask,n=e.list,a=e.edit;return Object(j.jsxs)("div",{className:"row d-flex justify-content-center",onKeyDown:this.handleKeyDown,children:[Object(j.jsx)("h1",{className:"col-md-8 text-center",children:" My ToDo !! "}),this.getForm(t),Object(j.jsx)("div",{className:"col-md-8",children:Object(j.jsxs)("div",{className:"card-hover-shadow-2x mb-3 card",children:[Object(j.jsx)("div",{className:"card-header-tab card-header",children:Object(j.jsxs)("div",{className:"card-header-title font-size-lg text-capitalize font-weight-normal",children:[Object(j.jsx)("i",{className:"fa fa-tasks"}),"\xa0Task Lists"]})}),Object(j.jsx)(m,{entries:n,handleDelete:this.handleDelete,cursor:this.state.cursor,handleComplete:this.handleComplete,handleSelected:this.handleSelected,handleFocus:this.handleFocus,handleEdit:this.handleEdit,handleEditSubmit:this.handleEditSubmit,edit:a}),Object(j.jsxs)("div",{className:"d-inline-block d-flex card-footer",children:[Object(j.jsxs)("span",{className:"text-left col-md-6",children:[this.selectCount," Selected"]}),Object(j.jsx)("div",{className:"text-right col-md-6",children:Object(j.jsx)("button",{"aria-label":"deleteAll",onClick:this.handleDelete,className:"btn btn-danger ".concat(this.selectCount?"":"invisible"),children:"Delete"})})]})]})})]})}}]),n}(a.Component);i.a.render(Object(j.jsxs)(c.a.StrictMode,{children:[Object(j.jsx)(f.NotificationContainer,{}),Object(j.jsx)(x,{})]}),document.getElementById("root")),o()}},[[32,1,2]]]);
//# sourceMappingURL=main.d5bb2ed9.chunk.js.map